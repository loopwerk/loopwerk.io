@tailwind base;
@tailwind components;
@tailwind utilities;

/* MOBILE MENU */

.hamburger:hover .hamburger-line {
  @apply bg-orange;
}

#mobile-menu-toggle:checked ~ .mobile-overlay {
  @apply opacity-100 pointer-events-auto;
}

/* Navigation panel - slide animation */
#mobile-menu-toggle:checked ~ header .nav-panel {
  @apply translate-x-0;
}

/* Close button X shape */
.nav-close::before,
.nav-close::after {
  @apply absolute w-6 h-[2px] bg-gray rotate-45;
  content: "";
}

.nav-close::after {
  @apply -rotate-45;
}

.nav-close:hover::before,
.nav-close:hover::after {
  @apply bg-orange;
}

/* BODY */

body.home .site-footer {
  @apply hidden;
}

body.home .images img {
  @apply inline m-5 h-[28px];
}

/* LINKS */

nav ul a {
  @apply block border-b-2 border-transparent max-lg:text-lg max-lg:py-2;
}

nav ul a:hover {
  @apply border-orange;
}

nav ul a.active {
  @apply border-orange text-white;
}

.gray-links a {
  @apply underline text-inherit;
}

.gray-links a:hover {
  @apply text-orange;
}

a.orange {
  @apply text-orange;
}

a.orange:hover {
  @apply underline;
}

a[href^="https://github.com"].app {
  background: transparent url("images/github.svg") no-repeat;
  background-size: 1em 1em;
  background-position: left center;
  padding-left: 20px;
}

a[href^="https://itunes.apple.com"].app,
a[href^="https://apps.apple.com"].app {
  background: transparent url("images/apple.svg") no-repeat;
  background-size: 1em 1em;
  background-position: left center;
  padding-left: 20px;
}

/* PROSE */

.prose {
  @apply prose-code:before:hidden prose-code:after:hidden text-lg;
}

.prose code {
  @apply font-normal text-base text-white bg-sub p-1;
}

.prose pre {
  @apply shadow-lg shadow-nav py-4 rounded-md bg-sub;
  overflow: auto;
  overflow-y: hidden;
}

.prose pre code {
  @apply text-base;
}

/* Code block with filename */
.prose pre[data-title] {
  @apply pt-0;
}

.prose pre[data-title] .code-title {
  @apply block text-sm text-gray py-2 pl-10 mb-4 -mx-4 border-b border-light/20;
  background-repeat: no-repeat;
  background-position: 1rem center;
  background-size: 16px 16px;
  background-image: url("icons/document.svg");
}

/* File icons based on language */
.prose pre[data-title].language-python .code-title {
  background-image: url("icons/python.svg");
}

.prose pre[data-title].language-javascript .code-title,
.prose pre[data-title].language-js .code-title {
  background-image: url("icons/javascript.svg");
}

.prose pre[data-title].language-typescript .code-title,
.prose pre[data-title].language-ts .code-title {
  background-image: url("icons/typescript.svg");
}

.prose pre[data-title].language-swift .code-title {
  background-image: url("icons/swift.svg");
}

.prose pre[data-title].language-svelte .code-title {
  background-image: url("icons/svelte.svg");
}

.prose pre[data-title].language-html .code-title {
  background-image: url("icons/html.svg");
}

.prose pre[data-title].language-css .code-title {
  background-image: url("icons/css.svg");
}

.prose pre[data-title].language-bash .code-title,
.prose pre[data-title].language-shell .code-title,
.prose pre[data-title].language-sh .code-title {
  background-image: url("icons/console.svg");
}

.prose pre[data-title].language-json .code-title {
  background-image: url("icons/json.svg");
}

.prose pre[data-title].language-yaml .code-title,
.prose pre[data-title].language-yml .code-title {
  background-image: url("icons/yaml.svg");
}

.prose pre[data-title].language-dockerfile .code-title {
  background-image: url("icons/docker.svg");
}

code mark {
  border: 1px solid var(--color-orange);
  padding: 2px 4px;
  background: transparent;
  color: inherit;
}

code mark[title] {
  cursor: help;
}

code mark[title]::after {
  content: "?";
  margin: -2px -4px -2px 4px;
  border: 2px solid var(--color-orange);
  background-color: var(--color-orange);
  color: white;
}

code var {
  background: #1c6b86;
  color: #eeeeee;
  padding: 2px;
  font-style: normal;
}

.prose h1 {
  @apply font-title font-bold mt-12 text-5xl;
}

.prose h2 {
  @apply font-title text-4xl;
}

.prose aside {
  @apply px-4 border border-orange my-5 rounded-md;
  font-size: 90%;
}

.prose aside .title {
  @apply text-orange block -mb-4;
}

.prose blockquote {
  @apply ml-[3px] text-xl py-3 font-title font-thin leading-8;
}

.prose blockquote p:first-child {
  @apply mt-0;
}

.prose blockquote p:last-child {
  @apply mb-0;
}

/* SCREENSHOTS */

.screenshots.break_1 span {
  @apply flex-1;
}

.screenshots.break_2 span {
  @apply flex-[0_0_50%] lg:flex-1;
}

.screenshots.break_3 span {
  @apply flex-[0_0_33%] lg:flex-1;
}

.screenshots img {
  padding: 3px 3px 0 0;
  border-radius: 0px;
  margin: 0;
}

.screenshots.rounded img {
  border-radius: 10%/4.7%;
}

@media (min-width: 900px) {
  .hero-image {
    margin-left: -20px;
    width: 740px;
    max-width: 740px;
  }
}

/* PAGEFIND */

.pagefind-modular-list-image {
  display: none;
}

#search-form::before {
  background-color: var(--color-gray);
  width: 18px;
  height: 18px;
  top: 13px;
  left: 20px;
  content: "";
  position: absolute;
  display: block;
  opacity: 0.7;
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.7549 11.255H11.9649L11.6849 10.985C12.6649 9.845 13.2549 8.365 13.2549 6.755C13.2549 3.165 10.3449 0.255005 6.75488 0.255005C3.16488 0.255005 0.254883 3.165 0.254883 6.755C0.254883 10.345 3.16488 13.255 6.75488 13.255C8.36488 13.255 9.84488 12.665 10.9849 11.685L11.2549 11.965V12.755L16.2549 17.745L17.7449 16.255L12.7549 11.255ZM6.75488 11.255C4.26488 11.255 2.25488 9.245 2.25488 6.755C2.25488 4.26501 4.26488 2.255 6.75488 2.255C9.24488 2.255 11.2549 4.26501 11.2549 6.755C11.2549 9.245 9.24488 11.255 6.75488 11.255Z' fill='%23000000'/%3E%3C/svg%3E%0A");
  mask-image: url("data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.7549 11.255H11.9649L11.6849 10.985C12.6649 9.845 13.2549 8.365 13.2549 6.755C13.2549 3.165 10.3449 0.255005 6.75488 0.255005C3.16488 0.255005 0.254883 3.165 0.254883 6.755C0.254883 10.345 3.16488 13.255 6.75488 13.255C8.36488 13.255 9.84488 12.665 10.9849 11.685L11.2549 11.965V12.755L16.2549 17.745L17.7449 16.255L12.7549 11.255ZM6.75488 11.255C4.26488 11.255 2.25488 9.245 2.25488 6.755C2.25488 4.26501 4.26488 2.255 6.75488 2.255C9.24488 2.255 11.2549 4.26501 11.2549 6.755C11.2549 9.245 9.24488 11.255 6.75488 11.255Z' fill='%23000000'/%3E%3C/svg%3E%0A");
  -webkit-mask-size: 100%;
  mask-size: 100%;
  z-index: 9;
  pointer-events: none;
}

#search {
  background: var(--color-sub);
  height: 44px;
  padding: 0 10px 0 54px;
  border-radius: 6px;
  color: var(--color-white);
}

#search::placeholder {
  color: var(--color-gray);
  font-weight: 200;
}

.pagefind-ui__message {
  margin-top: 20px;
  margin-bottom: 40px;
}

.pagefind-modular-list-result {
  margin-top: 40px;
  list-style: none;
}

.pagefind-modular-list-link {
  @apply font-bold text-2xl;
}

.pagefind-modular-list-link:hover {
  border-bottom: 1px solid var(--color-orange);
}

.pagefind-modular-list-excerpt mark {
  background: var(--color-orange);
}
